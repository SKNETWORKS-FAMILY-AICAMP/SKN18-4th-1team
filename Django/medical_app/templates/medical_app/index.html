<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì˜ë£Œ ìƒë‹´ ì‹œìŠ¤í…œ</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <div class="min-h-screen bg-gradient">
        <!-- Floating Particles -->
        <div class="particles"></div>
        
        <!-- Gradient Overlay -->
        <div class="gradient-overlay"></div>
        
        <div class="container">
            <!-- Header -->
            <div class="header">
                <div class="logo-container">
                    <div class="medical-cross">
                        <div class="cross-vertical"></div>
                        <div class="cross-horizontal"></div>
                    </div>
                    <div class="stethoscope-icon">
                        <svg viewBox="0 0 100 100" width="48" height="48">
                            <circle cx="30" cy="20" r="5" fill="#10b981"/>
                            <circle cx="70" cy="20" r="5" fill="#10b981"/>
                            <path d="M30,25 Q30,45 50,60" stroke="#10b981" stroke-width="3" fill="none"/>
                            <path d="M70,25 Q70,45 50,60" stroke="#10b981" stroke-width="3" fill="none"/>
                            <circle cx="50" cy="70" r="12" fill="#10b981"/>
                        </svg>
                    </div>
                    <h1 class="title">AI ì˜ë£Œ ìƒë‹´ ì‹œìŠ¤í…œ</h1>
                </div>
                <p class="subtitle">ì¦ìƒì„ ì…ë ¥í•˜ë©´ AIê°€ ê´€ë ¨ ì§ˆë³‘ê³¼ ì¶”ì²œ ë³‘ì›ì„ ë¶„ì„í•´ë“œë¦½ë‹ˆë‹¤</p>
                
                <!-- Decorative Icons -->
                <div class="decorative-icons">
                    <div class="icon-item">ğŸ§ </div>
                    <div class="icon-item">â¤ï¸</div>
                    <div class="icon-item">ğŸ“Š</div>
                    <div class="icon-item">ğŸ“ˆ</div>
                </div>
            </div>

            <!-- Disclaimer Alert -->
            <div class="alert-box">
                <div class="alert-icon">â„¹ï¸</div>
                <div class="alert-text">
                    ì´ ì„œë¹„ìŠ¤ëŠ” ì°¸ê³ ìš©ì´ë©° ì „ë¬¸ ì˜ë£Œ ì§„ë‹¨ì„ ëŒ€ì²´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‹¬ê°í•œ ì¦ìƒì´ ìˆë‹¤ë©´ ì¦‰ì‹œ ë³‘ì›ì„ ë°©ë¬¸í•˜ì„¸ìš”.
                </div>
            </div>

            <!-- Error Message -->
            {% if error %}
            <div class="alert-box error-box">
                <div class="alert-icon">âš ï¸</div>
                <div class="alert-text">{{ error }}</div>
            </div>
            {% endif %}

            <!-- Input Section -->
            <div class="card input-card">
                <div class="card-header">
                    <div class="card-title">
                        <span class="sparkle-icon">âœ¨</span>
                        ì¦ìƒ ì…ë ¥
                    </div>
                    <div class="card-description">
                        í˜„ì¬ ëŠë¼ì‹œëŠ” ì¦ìƒì„ ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”
                    </div>
                </div>
                <div class="card-content">
                    <form method="POST" action="{% url 'medical_app:index' %}">
                        {% csrf_token %}
                        <textarea 
                            name="symptoms" 
                            class="symptoms-textarea" 
                            placeholder="ì˜ˆ: ì–´ì œë¶€í„° ë‘í†µì´ ìˆê³  ë¯¸ì—´ì´ ìˆìŠµë‹ˆë‹¤. ëª©ë„ ì•„í”„ê³  ê¸°ì¹¨ë„ ì¡°ê¸ˆ ë‚˜ì˜µë‹ˆë‹¤."
                            rows="6"
                            required
                        >{{ symptoms }}</textarea>
                        <button type="submit" class="analyze-button">
                            <span class="button-icon">âœ¨</span>
                            <span class="button-text">ì¦ìƒ ë¶„ì„í•˜ê¸°</span>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Results Section -->
            {% if result %}
            <div id="results" class="results-section">
                <!-- Success Message -->
                <div class="card success-card">
                    <div class="success-content">
                        <div class="heart-icon">â¤ï¸</div>
                        <div class="success-text">
                            <h3>ë¶„ì„ ì™„ë£Œ!</h3>
                            <p>ì•„ë˜ì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                        </div>
                        <div class="dna-icon">ğŸ§¬</div>
                    </div>
                </div>

                <!-- Diseases Section -->
                {% if result.diseases %}
                <div class="diseases-section">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ©º</span>
                        ê°€ëŠ¥í•œ ì§ˆë³‘
                    </h2>
                    <div class="diseases-list">
                        {% for disease in result.diseases %}
                        <div class="disease-card">
                            <div class="disease-header">
                                <div class="disease-name">{{ disease.name }}</div>
                                <div class="severity-badge severity-{{ disease.severity }}">
                                    {% if disease.severity == 'low' %}ê²½ì¦
                                    {% elif disease.severity == 'medium' %}ì¤‘ë“±ë„
                                    {% elif disease.severity == 'high' %}ì¤‘ì¦
                                    {% else %}ì•Œ ìˆ˜ ì—†ìŒ{% endif %}
                                </div>
                            </div>
                            <div class="disease-description">{{ disease.description }}</div>
                            <div class="disease-recommendations">
                                <div class="recommendations-title">ê¶Œì¥ì‚¬í•­:</div>
                                <ul class="recommendations-list">
                                    {% for recommendation in disease.recommendations %}
                                    <li class="recommendation-item">{{ recommendation }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Hospitals Section -->
                {% if result.hospitals %}
                <div class="hospitals-section">
                    <h2 class="section-title">
                        <span class="section-icon">ğŸ¥</span>
                        ì¶”ì²œ ë³‘ì›
                    </h2>
                    <div class="hospitals-list">
                        {% for hospital in result.hospitals %}
                        <div class="hospital-card">
                            <div class="medical-cross-icon"></div>
                            <div class="hospital-header">
                                <div class="hospital-name">{{ hospital.name }}</div>
                                <div class="hospital-specialty">{{ hospital.specialty }}</div>
                            </div>
                            <div class="hospital-info">
                                <div class="hospital-detail">
                                    <svg class="hospital-detail-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>{{ hospital.address }}</span>
                                </div>
                                <div class="hospital-detail">
                                    <svg class="hospital-detail-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    <span>{{ hospital.phone }}</span>
                                </div>
                                <div class="hospital-footer">
                                    <div class="hospital-detail">
                                        <svg class="hospital-detail-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        </svg>
                                        <span>{{ hospital.distance }}</span>
                                    </div>
                                    <div class="hospital-detail">
                                        <svg class="hospital-detail-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        <span>{{ hospital.waitTime }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>

